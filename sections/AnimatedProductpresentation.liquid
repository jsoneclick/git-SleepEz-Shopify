<style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap');
  
        .animated_product__wrapper {
            height: 100vh;
            width: 100vw;
            background: {{section.settings.backgroundColor}};
            box-sizing: border-box;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            padding: 16px;
          
        }
  
        .animated_product__inner {
            height: 70vh;
            width: 920px;
            position: relative;
        }
  
        .animated_product__inner img {
            height: 100%;
            width: auto;
            position: absolute;
        }
  
        .images_center__wrapper {
            height: 100%;
            width: 450px;
            position: relative;
            left: 50%;
            transform: translateX(-50%); 
        }
  
        .images_center__wrapper img:nth-child(1) {
            height: 50vh;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            z-index: 1;
        }
  
        .images_center__wrapper img:nth-child(2) {
            height: 35vh;
            left: 50%;
            top: 80%;
            transform: translate(-50%, -50%);
        }
  
        .images_center__wrapper img:nth-child(3) {
            height: 12vh;
            left: 15%;
            top: 60%;
            transform: translate(-50%, -50%);
            z-index: 2;
        }
  
        .images_center__wrapper img:nth-child(4) {
            height: 20vh;
            left: 23%;
            top: 93%;
            transform: translate(-50%, -50%) rotateY(180deg);
            z-index: 2;
        }
  
        .images_center__wrapper img:nth-child(5) {
            height: 16vh;
            left: 95%;
            top: 82%;
            transform: translate(-50%, -50%);
            z-index: 2;
        }
  
          .upper_content_button_header {
            position: absolute;
            display: flex;
            justify-content: center;
            flex-direction: column;
            align-items: center;
            top: 20%;
            left: 100%;
            transform: translate(-50%, -50%);
            z-index: 999;
          }

        .upper_content_button_header h1 {
          font-size: clamp(4rem, 1.5rem + 8vw, 6rem);
          margin: 0 !important;
          padding: 0 !important;
          color: {{section.settings.headingColor}};
          font-weight: 700;
          line-height: normal;
        }
  
        .animated_product__inner .buy_buttons .button{
          width: 300px !important;
          color: red;
        }

        .buy_button_custom {
          background: #fff;
          text-transform: uppercase;
          padding: 10px 40px;
          color: #000;
          width: 100%;
          box-sizing: border-box;
          text-align: center;
        }
  
        .buy_button_custom:hover {
          background: red;
        }
  
        .front_product_element {
            position: absolute;
            height: 150px;
            aspect-ratio: 1 / 1;
            right: -4%;
            top: 12%;
            z-index:3;
            display: flex;
            justify-content: center;
            align-items: center;
        }
  
        .front_product_element p {
            position: absolute;
            color: {{ section.settings.subTextColor }};
            font-family: arial;
            transform: rotateZ(20deg) translate(-5px ,0);
            text-align: center;
            font-size: clamp(0.4375rem, 0.125rem + 1vw, 0.6875rem);
            width: 70%;
            padding: 0;
            margin: 0;
            font-family: 'Inter', sans-serif;
            font-weight: 700;    
        }

        .front_product_element svg {
            height: 100%;
            width: 100%;
        }
  
        .product_info__line {
            border-bottom: 3px solid {{section.settings.lineColor}};
            position: absolute;
            z-index: 3;
            width: 100%;
            left: -50%;
            top: 20%;
            opacity: 0;
            transition: opacity 1s;
        }
  
        .product_info__line .line_relative_wrapper{
            position: relative;
            font-family: 'Inter', sans-serif;
        }
  
        .line_relative_wrapper h2 {
            margin: 0;
            padding: 0;
            color: {{section.settings.lineTextColor}};
            font-size: clamp(0.55rem, 0.4375rem + 1vw, 1rem);
            font-weight: 600;
            padding: 5px 0;
        }
  
        .line_relative_wrapper svg {
            position: absolute;
            bottom: -15px;
            right: -15px;
        }
  
        .lines_wrapper .product_info__line:nth-child(1) {
            width: 90%;
        }
  
        .lines_wrapper .product_info__line:nth-child(2) {
            top: 45%;
            width: 90%;
        }
  
        .lines_wrapper .product_info__line:nth-child(3) {
            width: 65%;
            top: 60%;
        }
  
        .lines_wrapper .product_info__line:nth-child(4) {
            width: 75%;
            top: 71%;
        }
  
        .lines_wrapper .product_info__line:nth-child(5) {
            width: 70%;
            top: 35%;
            right: -50%;
            left: auto;
        }
  
        .lines_wrapper .product_info__line:nth-child(2) svg {
            transform: rotateZ(15deg);
        }
  
        .lines_wrapper .product_info__line:nth-child(3) svg {
            transform: rotateZ(-45deg);
        }
  
        .lines_wrapper .product_info__line:nth-child(5) svg {
            bottom: -50px;
            right: auto;
            left: -15px;
            transform: rotateZ(45deg);
        }
  
        .lines_wrapper .product_info__line:nth-child(5) h2 {
           float: right;
        }
  
        .right_background__image, .left_background__image {
            position: absolute;
            height: 50vw;
            right: 0;
            opacity: .3;
        }
  
        .left_background__image {
            left: 0;
        }
  
        .right_background__image img, .left_background__image img {
            height: 100%;
            width: auto;
        }
  
        @media screen and (max-width: 900px){
          .lines_wrapper {
            transform: scale(0.95);
          }
          
          .images_center__wrapper {
            width: 100vw;
          }
          
        }
  
      @media screen and (min-width: 990px) {
          .buy_button_custom {
              display: none;
            }
      }
  
      @media screen and (max-width: 990px) {
        .upper_content_button_header {
            left: 50%;
          width: 100vw;
          padding: 16px;
          }
        .images_center__wrapper {
          width: 100vw;
        }
        
        .animated_product__inner h1 {
          float: auto;
          text-align: center;
        }
        
        .animated_product__inner {
          height: 100vh;
          width: 100%;
        }
        
         .lines_wrapper .product_info__line:nth-child(1) {
            width: 35%;
            left: 0;
           top: 45%;
        }
        
        .lines_wrapper .product_info__line:nth-child(2) {
            top: 55%;
            width: 45%;
            left: 0;
        }
        
        .lines_wrapper .product_info__line:nth-child(3) {
            width: 45%;
            top: 73%;
            right: 0%;
            left: auto;   
        }
        
        .lines_wrapper .product_info__line:nth-child(3) h2 {
           float: right;
        }
        
        .lines_wrapper .product_info__line:nth-child(3) svg {
            bottom: -45px;
            right: auto;
            left: -15px;
        }
        
        .lines_wrapper .product_info__line:nth-child(4) {
            width: 30%;
            top: 78%;
            left: 0;
        }
        
        .lines_wrapper .product_info__line:nth-child(5) {
            width: 40%;
            top: 65%;
            right: 0%;
            left: auto;
        }
        
        .images_center__wrapper img:nth-child(1) {
            height: 38vh;
            left: 50%;
            top: 65%;
            transform: translate(-50%, -50%);
            z-index: 1;
        }
        
        .images_center__wrapper img:nth-child(2) {
            height: auto;
            width: 80%;
            left: 50%;
            top: 80%;
            transform: translate(-50%, -50%);
        }
        
        .images_center__wrapper img:nth-child(3) {
            height: 8vh;
            left: 25%;
            top: 65%;
            transform: translate(-50%, -50%);
            z-index: 2;
        }
        
        .images_center__wrapper img:nth-child(4) {
            height: 12vh;
            left: 30%;
            top: 83%;
            transform: translate(-50%, -50%) rotateY(180deg);
            z-index: 2;
        }
        
        .images_center__wrapper img:nth-child(5) {
            height: 11vh;
            left: 75%;
            top: 82%;
            transform: translate(-50%, -50%);
            z-index: 2;
        }
        
        .line_relative_wrapper svg {
          
        }
        
        .lines_wrapper .product_info__line:nth-child(1) svg {
          transform: scale(1.3);
        }
        
         .lines_wrapper .product_info__line:nth-child(2) svg {
            transform: rotateZ(15deg) scale(1.3);
        }
        
        .lines_wrapper .product_info__line:nth-child(3) svg {
            transform: rotateZ(-45deg) scale(1.3);
        }
        
        .lines_wrapper .product_info__line:nth-child(4) svg {
          transform: scale(1.3);
        }
        
        .lines_wrapper .product_info__line:nth-child(5) svg {
            bottom: -50px;
            right: auto;
            left: -15px;
            transform: rotateZ(45deg) scale(1.3);
        }
        
        .front_product_element {
          top: 48%;
          height: 100px;
          right: 15%;
        }  
        
      }
  
      .lines_wrapper {
          height: 100%;
          width: 100%;
          z-index: 999;
          position: absolute;
          /* transform: scale(0.8); */
        }
  
        .product_bodytext {
          margin: 0;
          padding: 0;
          margin-bottom: 32px;
          text-align: center; 
        }
        .upper_content_button_header h1{
          margin: 0;
          padding: 0;
        }
  
    </style>
    <body>
    <div class="animated_product__wrapper">
      {% if section.settings.left_bgImage_id %}
        <div class="left_background__image">
          <img src="{{ section.settings.left_bgImage_id | image_url }}" loading="lazy" />
        </div>
      {% endif %}
      {% if section.settings.right_bgImage_id %}
        <div class="right_background__image">
          <img src="{{ section.settings.right_bgImage_id | image_url }}" loading="lazy" />
        </div>
      {% endif %}
        <div class="animated_product__inner">
          <div class="upper_content_button_header">
             <h1>{{ section.settings.headerText }}</h1>
             <p class="product_bodytext">
                {{section.settings.bodyText}}
              </p>
            <div class="buy_button_custom">cool</div>
          </div>
             <div class="images_center__wrapper">
                 {% if section.settings.mainImage_id %}
                    <img src="{{ section.settings.mainImage_id | image_url }}" loading="lazy" />
                 {% endif %}
                 {% if section.settings.image_id %}
                    <img src="{{ section.settings.image_id | image_url }}" loading="lazy" />
                    <img src="{{ section.settings.image_id | image_url }}" loading="lazy" />
                    <img src="{{ section.settings.image_id | image_url }}" loading="lazy" />
                    <img src="{{ section.settings.image_id | image_url }}" loading="lazy" />
                 {% endif %}
                <div class="front_product_element">
                    <p>
                        {{ section.settings.elementText }}
                        </p>
                        <svg xmlns="http://www.w3.org/2000/svg" width="695" height="716" viewBox="0 0 695 716" fill="none">
                            <path d="M418.588 13.7273C457.026 -16.3288 513.358 9.62338 515.491 58.37L522.922 228.22C523.838 249.156 535.61 268.097 553.978 278.186L663.503 338.348C712.648 365.343 701.203 439 646.185 449.811L531.766 472.293C507.78 477.006 489.051 495.799 484.421 519.801L456.032 666.943C445.408 722.005 371.776 733.695 344.622 684.629L281.395 570.384C267.516 545.305 237.835 533.546 210.545 542.313L79.3492 584.465C25.3945 601.8 -20.3016 541.565 10.9291 494.276L95.6032 366.064C108.687 346.253 108.858 320.59 96.0408 300.605L28.2319 194.884C-1.87396 147.945 42.7426 88.9103 96.1157 105.063L214.59 140.917C233.278 146.572 253.549 142.781 268.929 130.754L418.588 13.7273Z" fill="#6774AD"/>
                        </svg>
                </div>
                <div class="lines_wrapper">
                  {% for block in section.blocks %}
                    <div class="product_info__line">
                        <div class="line_relative_wrapper">
                            <h2>{{ block.settings.lineText }}</h2>
                            {% if block.settings.custom_html_code %}
                              {{ block.settings.custom_html_code | raw }}
                            {% endif %}
                        </div>
                    </div>
                  {% endfor %}
                </div>
            </div>
        </div>
    </div>
    <script>
      {
        const animatedWrapper = document.querySelector('.animated_product__wrapper');
        const imagesWrapper = document.querySelector(".images_center__wrapper");
        const clouds = imagesWrapper.getElementsByTagName("img");
        const frontStar = document.querySelector(".front_product_element");
        const cloudMoveModificator = [16, 21, 9, 15, 17];
        const lines = document.querySelectorAll(".product_info__line");


        let yPositionViewport = animatedWrapper.getBoundingClientRect().top;
        let yPosition = window.scrollY + yPositionViewport;

        document.addEventListener('mousemove', function (e) {
            let x = e.clientX;
            let y = e.clientY;
            let centerX = window.innerWidth / 2;
            let distance = x - centerX;
            for (let i = 0; i < clouds.length; i++) {
                clouds[i].style.marginLeft = `${distance / cloudMoveModificator[i]}px`;
            }
            frontStar.style.right = `${-distance / 13}px`;
        });

        let isCardsShown = false;

        function showLine(index) {
            if (index < lines.length) {
                lines[index].style.opacity = 1;
                // lines[index].style.top = `${endCardsPosition[index].top}%`;
                // lines[index].style.left = `${endCardsPosition[index].left}%`;
                // svgElements[index].style.width = `${initialSvgWidth[index]}px`;
                setTimeout(() => {
                    showLine(index + 1);
                }, 1000);
            }
        }
        function handleScroll() {
            const triggerPosition = yPosition;
            if (window.scrollY > triggerPosition && !isCardsShown) {
                showLine(0);
                isCardsShown = true;
            }
        }
        window.addEventListener('scroll', handleScroll);
      }
    </script>
{% schema %}
  {
    "name": "Anim Product Presentation",
    "settings": [
       {
        "type": "text",
        "label": "Header",
        "id": "headerText",
        "default": "Hush"
      },
      {
        "type": "text",
        "label": "Body text",
        "id": "bodyText",
        "default": "Test Body text"
      },
      {
        "type": "color",
        "id": "headingColor",
        "label": "Header color",
        "default": "#ffffff"
      },
      {
        "type": "color",
        "id": "lineColor",
        "label": "Line Color",
        "default": "#ffffff"
      },
      {
        "type": "text",
        "label": "Front Element Text",
        "id": "elementText",
        "default": "Develops Baby's Sleep Routine"
      },
      {
        "type": "color",
        "id": "subTextColor",
        "label": "Small Text Color",
        "default": "#ffffff"
      },
      {
        "type": "color",
        "id": "lineTextColor",
        "label": "Lines Text Color",
        "default": "#ffffff"
      },
      {
        "type": "color_background",
        "id": "backgroundColor",
        "label": "Background Color",
        "default": "linear-gradient(#1f2240, #6774ad)"
      },
      {
        "type": "image_picker",
        "id": "mainImage_id",
        "label": "Main Image"
      },
      {
        "type": "image_picker",
        "id": "image_id",
        "label": "Additional Images"
      },
      {
        "type": "image_picker",
        "id": "left_bgImage_id",
        "label": "Left Background Image"
      },
      {
        "type": "image_picker",
        "id": "right_bgImage_id",
        "label": "Right Background Image"
      }
      
    ],
    "blocks": [
    {
        "type": "tab",
        "name": "Line",
        "settings": [
            {
                "type": "html",
                "label": "SVG Code",
                "id": "custom_html_code"
            },
            {
                "type": "text",
                "label": "Line Text",
                "id": "lineText",
                "default": "Drift off using your favorite streaming platform"
            }
        ]
    }
],
    "presets": [
      {
        "name": "Anim Product Presentation"
      }
    ]
  }
{% endschema %}
